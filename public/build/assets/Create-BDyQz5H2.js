import{d as T,r as b,T as u,c as C,w as c,o as f,a as o,u as s,Z as k,b as l,j as _,z as x,g as N,t as P,h as S,e as h,n as j,f as B,l as D}from"./app-COOdjUSe.js";import{_ as p,a as i}from"./TextInput.vue_vue_type_script_setup_true_lang-DGXYW4dJ.js";import{_ as m}from"./InputLabel.vue_vue_type_script_setup_true_lang-WyBFfg_t.js";import{P as U}from"./PrimaryButton-BSVTYoDx.js";import{a as M}from"./App.vue_vue_type_script_setup_true_lang-gctiTYru.js";import{M as $}from"./vue3-multiselect.umd.min-BBsq6F1S.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"mt-4"},E={class:"mt-4"},z={class:"mt-4"},F={class:"mt-4"},I={class:"flex flex-col gap-3"},L=T({__name:"Create",props:{carTypes:{}},setup(g){const y=g,n=b([]),d=u({name:""}),v=r=>{d.name=r,d.post(route("car-types.store"),{onError:e=>{console.log(e)},onSuccess:()=>{const e=y.carTypes.find(a=>a.name===d.name);e!==void 0&&n.value.push(e),d.reset()}})},t=u({name:"",description:"",start_date:"",end_date:"",carTypeIds:[]}),V=()=>{t.carTypeIds=n.value.map(r=>r.id),t.post(route("projects.store"),{onFinish:()=>{t.reset()}})};return(r,e)=>(f(),C(M,{page:"Create New Project"},{default:c(()=>[o(s(k),{title:"Create New Project"}),l("form",{onSubmit:B(V,["prevent"]),class:"mt-10 w-auto min-w-[30vw]"},[l("div",null,[o(m,{for:"name",value:"Name"}),o(p,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(t).name,"onUpdate:modelValue":e[0]||(e[0]=a=>s(t).name=a),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),o(i,{class:"mt-2",message:s(t).errors.name},null,8,["message"])]),l("div",q,[o(m,{for:"description",value:"Description"}),_(l("textarea",{name:"description",id:"description","onUpdate:modelValue":e[1]||(e[1]=a=>s(t).description=a)},null,512),[[x,s(t).description]]),o(i,{class:"mt-2",message:s(t).errors.description},null,8,["message"])]),l("div",E,[o(m,{for:"start_date",value:"Start Date"}),o(p,{id:"start_date",type:"date",class:"mt-1 block w-full",modelValue:s(t).start_date,"onUpdate:modelValue":e[2]||(e[2]=a=>s(t).start_date=a),required:"",autocomplete:"start_date"},null,8,["modelValue"]),o(i,{class:"mt-2",message:s(t).errors.start_date},null,8,["message"])]),l("div",z,[o(m,{for:"end_date",value:"End Date"}),o(p,{id:"end_date",type:"date",class:"mt-1 block w-full",modelValue:s(t).end_date,"onUpdate:modelValue":e[3]||(e[3]=a=>s(t).end_date=a),required:"",autocomplete:"end_date"},null,8,["modelValue"]),o(i,{class:"mt-2",message:s(t).errors.end_date},null,8,["message"])]),l("div",F,[e[6]||(e[6]=l("label",{class:"typo__label"},"Select or Create Your Car Types",-1)),l("div",I,[o(s($),{modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=a=>n.value=a),options:r.carTypes,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Select Car Types",label:"name","track-by":"id",multiple:"",taggable:"",tagPosition:"top",tagPlaceholder:"Add this as new car type",onTag:v},{selection:c(({values:a,isOpen:w})=>[a.length?_((f(),N("span",{key:0,class:"multiselect__single"},P(a.length)+" options selected",513)),[[D,!w]]):S("",!0)]),_:1},8,["modelValue","options"]),o(U,{class:j(["ms-4",{"opacity-25":s(t).processing}]),disabled:s(t).processing},{default:c(()=>e[5]||(e[5]=[h(" Create Project ")])),_:1},8,["class","disabled"])])])],32)]),_:1}))}});export{L as default};
