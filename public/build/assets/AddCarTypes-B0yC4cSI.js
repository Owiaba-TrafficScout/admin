import{d as g,r as T,T as d,c as C,w as n,o as m,a as p,u as l,Z as v,b as c,j as b,g as h,t as w,h as V,e as S,n as j,f as k,l as x}from"./app-C5IldEcd.js";import{P as A}from"./PrimaryButton-BLr2sEaB.js";import{a as B}from"./App.vue_vue_type_script_setup_true_lang-BZBsfHQC.js";import{M as N}from"./vue3-multiselect.umd.min-CZwZMg-y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"mt-4"},M={class:"flex flex-col gap-3"},Y=g({__name:"AddCarTypes",props:{carTypes:{},project:{}},setup(u){const i=u,o=T([]),r=d({name:""}),y=a=>{r.name=a,r.post(route("car-types.store"),{onError:e=>{console.log(e)},onSuccess:()=>{const e=i.carTypes.find(s=>s.name===r.name);e!==void 0&&o.value.push(e),r.reset()}})},t=d({car_type_ids:[]}),f=()=>{t.car_type_ids=o.value.map(a=>a.id),t.post(route("project.cartype.add",{project:i.project.id}),{onFinish:()=>{t.reset()}})};return(a,e)=>(m(),C(B,{page:"Add Car Type"},{default:n(()=>[p(l(v),{title:"Add Car Type"}),c("form",{onSubmit:k(f,["prevent"]),class:"mt-10 w-auto min-w-[30vw]"},[c("div",P,[e[2]||(e[2]=c("label",{class:"typo__label"},"Select or Create Your Car Types",-1)),c("div",M,[p(l(N),{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=s=>o.value=s),options:a.carTypes,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Select Car Types",label:"name","track-by":"id",multiple:"",taggable:"",tagPosition:"top",tagPlaceholder:"Add this as new car type",onTag:y},{selection:n(({values:s,isOpen:_})=>[s.length?b((m(),h("span",{key:0,class:"multiselect__single"},w(s.length)+" options selected",513)),[[x,!_]]):V("",!0)]),_:1},8,["modelValue","options"]),p(A,{class:j(["ms-4",{"opacity-25":l(t).processing}]),disabled:l(t).processing},{default:n(()=>e[1]||(e[1]=[S(" Add Cartype(s) ")])),_:1},8,["class","disabled"])])])],32)]),_:1}))}});export{Y as default};
